<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">
    <title>Interactive Data Science: Byte 2</title>
    
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Custom styles for this project -->
    <link href="css/explore.css" rel="stylesheet">
    
    <style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
}

td, th {
    border: 1px solid #dddddd;
    text-align: center;
    vertical-align: middle;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}
</style>
  </head>
  
  <body role="document">
    
    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container" >
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"> <a href="#", style="font-size: 15px">Home</a></li>
            <li><a href="about", style="font-size: 15px">About This Data Set</a></li>
	    <li><a href="quality", style="font-size: 15px">Data Quality</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    
    <div class="container theme-showcase" role="main">
      
      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron", style="text-align:center">
      	<h1 style="font-size:50px;">  Mobile Data Statistics  </h1> 
		<h2> <font color = "#4e5a68"> Interactive Data Science: Byte 3  </font> </h2>
		<h3> <font color = "#4e5a68"> Yutong Li (yutongl1) </font> </h3>
      </div>
   

    <div class="page-header">
        <h1> <font color = "#4e5a68"> Major Question </font> </h1>
    </div>  
    
    <p> <font size = "5" face="verdana" color="#5f5f5f"> What is the general pattern of my secondary mobile phone usage in terms of battery level? </font> </p>


    
    <div class="page-header">
        <h1> <font color = "#4e5a68"> Statistical Summary </font> </h1>
    </div>  
   	
	<p> <font size = "5" face="verdana" color="#5f5f5f"> Statistical Summary of Battery Level </br> </font> 
	
	<table align = 'center' style="width:60%"">
	
    <tr>
    	<th> </th>
    	<th>Battery Level</th>    
  	</tr>
  	<tr>
    	<td><b>Mean</b></td>  
    	<td>53.3626</td>  
  	</tr>
  	<tr>
    	<td><b>Median</b></td>
    	<td>55</td>    
  	</tr>
  	<tr>
    	<td><b>Range</b></td>
    	<td>[0, 100]</td>  
  	</tr>
	</table>


	<p> <font size = "5" face="verdana" color="#5f5f5f"> </br> Frequency Table of Wifi </br> </font> 
	
	<table align = 'center' style="width:60%"">
  	<tr>
    	<th> AntiNeuralNetworkl</th>    
    	<th> CMU-SECURE </th> 
    	<th> xfinitywifi </th> 
    	<th> None </th> 
  	</tr>
  	<tr> 
    	<td>4842</td>  
    	<td>767</td>  
    	<td>1078</td>  
    	<td>225</td>
  	</tr>
	</table>

	<p> <font size = "5" face="verdana" color="#5f5f5f"> </br> Frequency Table of Screen Status  </br> </font> 
	
	<table align = 'center' style="width:60%"">
  	<tr>
    	<th> Screen Status = "Locked" (2) </th>    
    	<th>  Screen Status = "Locked" (3) </th> 
  	</tr>
  	<tr> 
    	<td align="center" valign="middle">171</td>  
	    <td align="center" valign="middle">26</td>  
  	</tr>
	</table>
	<p> <font size = "5" face="verdana" color="#5f5f5f"> </br>   </br> </font> 
	
	
   <div class="page-header">
        <h1> <font color = "#4e5a68"> Distribution of Continuous Variables </font> </h1>
    </div>
    
	<div class='tableauPlaceholder' id='viz1519613532608' style='position: relative; width: 570px; height: 500px;'><noscript><a href='#'><img alt='Histogram of Battery Level  ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Hi&#47;HistogramofBatteryLevel&#47;Sheet1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' style='display:none'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='HistogramofBatteryLevel&#47;Sheet1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Hi&#47;HistogramofBatteryLevel&#47;Sheet1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1519613532608');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
	<div , style="text-align:center">
    <h2> <font face="verdana" color="#5f5f5f"> </br> </br> Observed Battery Level From Feb 18 to Feb 25 </font> </h2>
	<iframe  width="1200" height="400" scrolling="no" frameborder="no" src="https://fusiontables.google.com/embedviz?containerId=googft-gviz-canvas&amp;viz=GVIZ&amp;t=LINE_AGGREGATE&amp;isXyPlot=true&amp;bsize=0.0&amp;q=select+col2%2C+col4+from+1qTfTMqQKMvFMuq4F60T0r81kjkcrpk-yZd1uAZYG&amp;qrs=+where+col2+%3E%3D+&amp;qre=+and+col2+%3C%3D+&amp;qe=+order+by+col2+asc&amp;uiversion=2&amp;gco_forceIFrame=true&amp;gco_hasLabelsColumn=true&amp;width=1200&amp;height=400"></iframe>  
	</div>
	
	<p> <font size = "5" face="verdana" color="#5f5f5f"> </br>   </br> </font> 
	
	<div class="page-header", style="clear:both ">
        <h1> <font color = "#4e5a68"> Distribution of Categorical Variables </font> </h1>
    </div>
    
  
    <div>
	<iframe align = "left" width="570" height="500" scrolling="no" frameborder="no" src="https://fusiontables.google.com/embedviz?containerId=googft-gviz-canvas&amp;q=select+col5%2C+count()+from+10XJMRlIT-1nWGgQzZYHli5egACas14lOmeWIOH3F+group+by+col5+order+by+count()+asc+limit+10&amp;viz=GVIZ&amp;t=PIE&amp;uiversion=2&amp;gco_forceIFrame=true&amp;gco_hasLabelsColumn=true&amp;gco_useFirstColumnAsDomain=true&amp;gco_legacyScatterChartLabels=true&amp;gco_is3D=false&amp;gco_pieHole=0&amp;gco_booleanRole=certainty&amp;gco_hAxis=%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%7D&amp;gco_vAxes=%5B%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%7D%2C%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%7D%5D&amp;gco_title=Pie+Chart+of+Wifi+Usage&amp;gco_fontName=sans-serif&amp;gco_pieSliceText=percentage&amp;gco_pieSliceTextStyle=%7B%22fontSize%22%3A%2214%22%7D&amp;gco_slices=%7B%220%22%3A%7B%22color%22%3A%22%238e7cc3%22%7D%2C+%221%22%3A%7B%22color%22%3A%22%23e06666%22%7D%2C+%222%22%3A%7B%22color%22%3A%22%23f6b26b%22%7D%2C+%223%22%3A%7B%22color%22%3A%22%236d9eeb%22%7D%7D&amp;gco_legend=top&amp;gco_titleTextStyle=%7B%22color%22%3A%22%23666666%22%2C+%22fontSize%22%3A%2218%22%2C+%22bold%22%3Atrue%7D&amp;gco_legendTextStyle=%7B%22color%22%3A%22%23666666%22%2C+%22fontSize%22%3A%2214%22%7D&amp;width=570&amp;height=500"></iframe>
	</div>
	
    <div >
    <iframe align = "right" width="570" height="500" scrolling="no" frameborder="no" src="https://fusiontables.google.com/embedviz?containerId=googft-gviz-canvas&amp;q=select+col4%2C+count()+from+1USbn26v05bMBIxSpc0ZzkmFFcJ6lRz2cfEeLBWXi+group+by+col4+order+by+col4+asc+limit+10&amp;viz=GVIZ&amp;t=PIE&amp;uiversion=2&amp;gco_forceIFrame=true&amp;gco_hasLabelsColumn=true&amp;gco_useFirstColumnAsDomain=true&amp;gco_legacyScatterChartLabels=true&amp;gco_is3D=false&amp;gco_pieHole=0&amp;gco_booleanRole=certainty&amp;gco_hAxis=%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%7D&amp;gco_vAxes=%5B%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%7D%2C%7B%22useFormatFromData%22%3Atrue%2C+%22viewWindow%22%3A%7B%22max%22%3Anull%2C+%22min%22%3Anull%7D%2C+%22minValue%22%3Anull%2C+%22maxValue%22%3Anull%7D%5D&amp;gco_slices=%7B%220%22%3A%7B%22color%22%3A%22%236d9eeb%22%7D%2C+%221%22%3A%7B%22color%22%3A%22%23f6b26b%22%7D%7D&amp;gco_title=Pie+Chart+of+Screen+Status&amp;gco_titleTextStyle=%7B%22color%22%3A%22%23666666%22%2C+%22fontSize%22%3A%2218%22%2C+%22bold%22%3Atrue%7D&amp;gco_legendTextStyle=%7B%22color%22%3A%22%23666666%22%2C+%22fontSize%22%3A%2214%22%7D&amp;gco_fontName=sans-serif&amp;gco_pieSliceTextStyle=%7B%22fontSize%22%3A%2214%22%7D&amp;gco_legend=top&amp;width=570&amp;height=500"></iframe>
	</div>
	 
	 <p> <font size = "5" face="verdana" color="#5f5f5f"> </br>   </br> </font> 
	
	
    <div class="page-header" style="clear:both ">
        <h1> <font color = "#4e5a68"> Interaction with Timeline </font> </h1>
    </div>
	<div class='tableauPlaceholder' id='viz1519621553901' style='position: relative; width: 570px; height: 500px;'><noscript><a href='#'><img alt='Median Battery Level by Hour ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ba&#47;BatteryLevel&#47;Sheet2&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='BatteryLevel&#47;Sheet2' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ba&#47;BatteryLevel&#47;Sheet2&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1519621553901');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>   
		 <p> <font size = "5" face="verdana" color="#5f5f5f"> </br>   </br> </font>    
	<div class='tableauPlaceholder' id='viz1519621680057' style='position: relative; width: 570px; height: 500px;'><noscript><a href='#'><img alt='Histogram of Network by Hour  ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Hi&#47;HistogramofNetworkbyHour&#47;Sheet1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='HistogramofNetworkbyHour&#47;Sheet1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Hi&#47;HistogramofNetworkbyHour&#47;Sheet1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1519621680057');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
	 <p> <font size = "5" face="verdana" color="#5f5f5f"> </br>   </br> </font> 
    <div class='tableauPlaceholder' id='viz1519621541505' style='position: relative; width: 870px; height: 800px;'><noscript><a href='#'><img alt='Histogram of Screen Status by Hours  ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Hi&#47;HistogramofScreenStatusbyHours&#47;Sheet1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='HistogramofScreenStatusbyHours&#47;Sheet1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Hi&#47;HistogramofScreenStatusbyHours&#47;Sheet1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1519621541505');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
    <p> <font size = "5" face="verdana" color="#5f5f5f"> </br>   </br> </font> </p>

	 </div> <!-- /page-header -->
    </div> <!-- /container -->
	
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.11.3.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
	function updateTable(str) {
		console.log("in updateTable");
		console.log(str);

	    // error checking: ignore buttons that don't have a title!
		if (str == "") {
			return;
		}

	    // find the actual button in this document's HTML
		button = document.getElementById(str);
		// for debugging, write its name to the console
		console.log(button.className);
		// check if it is disabled (btn-info)
		if (button.className.includes("btn-info")) {
			// and enable it (btn-primary)
			button.className = "btn btn-space btn-primary";
		} else {
			// otherwise disable it (btn-info)
			button.className = "btn btn-space btn-info";
		}

		// now get all the buttons
		buttons = document.getElementById("headers").children;
		// and collect their names in cols
		cols = [];
		// loop through them
		for (button in buttons) {
			// grab the id (the name we need is there)
			id = buttons[button].id;
			// make sure it isn't null
			if (buttons[button].id != null) {
				// and that the button is selected 
				var isPrimary = buttons[button].className.includes("btn-primary");
				if (isPrimary && (cols.indexOf(id) == -1)) {
					// if so, add it to our array
					cols.push(id);
				}
			}
		}
					
		$.ajax({
			url: '/_update_table',
			dataType: 'json',
			contentType: 'application/json',
			data: JSON.stringify({'cols' : cols}),
			type: 'POST',
			success: function (res, status) {
				console.log("successrunning");
				console.log(res["content"]);
				console.log(res["headers"]);
				var cols = res["headers"];
				var rows = res["content"];

				// get the table, columns and rows
				table = document.getElementById("data");
				headers = document.getElementById("cols");
				body = document.getElementById("rows");

				// delete current contents
				headers.innerHTML='';
				body.innerHTML = '';

				// and put the new information in the table
				for (col in cols) {
					cell = document.createElement("th");
					cell.innerHTML = cols[col];
					headers.appendChild(cell);
				}
				for (row in rows) {
					tr = document.createElement("tr");
					for (item in rows[row]) {
						td = document.createElement("td");
						td.innerHTML = rows[row][item];
						tr.appendChild(td);
					}
					body.appendChild(tr);
				}
			},
			error: function(res, status) {
				// On Error
				alert('error');
			}
		});
	}
				
				   
				   
</script>
</body>
</html>
